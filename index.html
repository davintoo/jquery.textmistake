<!DOCTYPE html><html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640">
    <link rel="stylesheet" href="stylesheets/core.css" media="screen">
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link rel="icon" type="image/png" href="images/site-2.png" />
    <script type="text/javascript" src="javascripts/modernizr.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-latest.js"></script>
    <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
    <script type="text/javascript">$(document).ready(function() {$('#main_content').headsmart()})</script>
    <title>jQuery.textmistake</title>
</head><body>
    <a id="forkme_banner" href="https://github.com/tarampampam/jquery.textmistake">View on GitHub</a>
    <div class="shell">
        <header>
            <span class="ribbon-outer">
                <span class="ribbon-inner">
                    <h1>jQuery.textmistake</h1>
                    <h2>Плагин &quot;jquery.textmistake&quot;</h2>
                </span>
                <span class="left-tail"></span>
                <span class="right-tail"></span>
            </span>
        </header>
        <section id="downloads">
            <span class="inner">
                <a href="https://github.com/tarampampam/jquery.textmistake/zipball/master" class="zip"><em>скачать</em> .ZIP</a><a href="https://github.com/tarampampam/jquery.textmistake/tarball/master" class="tgz"><em>скачать</em> .TGZ</a>
            </span>
        </section>
        <span class="banner-fix"></span>
        <section id="main_content">
            <h3>Что это?</h3>
            <p>Если у тебя возникал вопрос "Каким образом дать возможность редакторам на сайте сообщать о найденных опечатках или ошибках", или сам частенько наталкивался на них и думал "Надо бы куда-нибудь записать чтоб не забыть поправить" - возможно, этот плагин будет тебе интересен.</p>
            <p>Общая идея заключается в следующем: когда редактор нашел опечатку &mdash; то выделил её, и нажал "<strong>Ctrl</strong>" <small>("Cmd" для Mac)</small> + "<strong>Enter</strong>", после чего получил сообщение на почту. И не важно что крутится у тебя на сервере - решение применимо даже для простых статичных страниц, но об этом чуть ниже. Зависимость - необходим jQuery.</p>

            <p>&nbsp;</p>
            <p><img src="images/cross-browser-support.png" alt="" style="border:none;box-shadow:none" /></p>
            
            <h3>Демонстрация</h3>
            <p>Просто выдели любое слово на этой странице, и нажми "<strong>Ctrl</strong>" + "<strong>Enter</strong>". С этой страницы уведомления никуда не уходят, это всего лишь денонстрация.</p>
            <p>&nbsp;</p>
            <p align="center"><img src="images/ctrl_enter.png" alt="" width="220" style="border:none;box-shadow:none" /></p>
            <p>&nbsp;</p>
            
            <h3>Описание особенностей</h3>
            <ol>
                <li>Наличие серверной части для отправки сообщений - <strong>не</strong> обязательноельное условие. Но в комплекте идет пример скрипта на PHP, который может выполнять эту роль:
                <pre><code>jQuery(document).textmistake({
    '<strong>sendmailUrl</strong>': './textmistake.php'
});</code></pre></li>
                
                <li>Если для отправки сообщений не используется серверная часть, то нам необходимо <a href="https://mandrill.com/signup/" target="_blank">перейти по ссылке</a> и получив бесплатную учетную запись на mandrill.com, перейти в "<a href="https://mandrillapp.com/settings" target="_blank">настройки аккаунта</a>", и нажав на "<strong>+ New API Key</strong>" - получить свой "API Key". Лимит для бесплатного аккаунта составляет 12,000 сообщений в месяц (295 в час), плюс настраиваемые черные/белые листы и прочие плюшки:<pre><code>jQuery(document).textmistake({
    '<strong>mandrillKey</strong>': 'GetYourOwnApiKey'
});</code></pre></li>

                <li>Текст всех сообщений что видит пользователь - настраиваемый, и указываются в момент инициализации плагина. Это позволяет без каких-либо проблем встроить данный плагин на мультиязычные сайты:<pre><code>jQuery(document).textmistake({
    '<strong>l10n</strong>': {
        '<strong>title</strong>': 'Сообщить автору об опечатке:',
        '<strong>urlHint</strong>': 'Адрес страницы с ошибкой:',
        '<strong>errTextHint</strong>': 'Текст с ошибкой:',
        /* etc */
    }
});</code></pre></li>

                <li>Никаких дополнительных css, js, или картинок (последние есть, но подгружаются с imgur.com) не требуется для работы. Просто один файл подключить и выполнить один вызов инициализации. Об этом ещё будет сказано ниже:<pre><code>&lt;script src="https://code.jquery.com/<strong>jquery-latest.js</strong>"&gt;&lt;/script&gt;
&lt;script src="js/<strong>jquery.textmistake.js</strong>"&gt;&lt;/script&gt;
&lt;script&gt;jQuery(document).<strong>textmistake()</strong>;&lt;/script&gt;</code></pre></li>

                <li>Имеется возможность использовать свои стили и свою верстку - просто отключаем инициализацию не нужных частей и используем свои (структуру смотри в исходнике плагина):
                <pre><code>jQuery(document).textmistake({
    '<strong>initCss</strong>': false,
    '<strong>initHtml</strong>': false,
});</code></li>

                <li>Опциональные настройки интерфейса в виде цвета заливки слоя-оверлея, его прозрачность, сокрытие прокрутки документа, указание номера слоя, возможность закрытия по нажатия Esc и прочее:<pre><code>jQuery(document).textmistake({
    '<strong>overlayColor</strong>': '#666',
    '<strong>overlayOpacity</strong>': 0.5,
    /* etc */
});</code></pre></li>

                <li>Имеется набор callback-функций:<pre><code>jQuery(document).textmistake({
    '<strong>onShow</strong>': function(state){},
    '<strong>onAjaxDone</strong>': function(response){},
    /* etc */
});</code></pre></li>

                <li>При использовании скрипта с серверной части - его необходимо сперва настроить:<pre><code>define('MailFrom', 'textmistake@'.$_SERVER['HTTP_HOST']);
define('MailTo',   'your_email@address.here');
define('RemoveHTML', true);</code></pre></li>
            </ol>

            <h3><a id="rather-drive-stick" class="anchor" href="#rather-drive-stick" aria-hidden="true"><span class="octicon octicon-link"></span></a>Установка</h3>

            <p>Для минимальной настройки и запуска тебе потребуется:</p>

            <pre><code>&lt;script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="https://cdn.rawgit.com/tarampampam/jquery.textmistake/master/src/jquery.textmistake.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
(function(e){
    jQuery(document).textmistake({
        'mailTo': 'your_email(d0g)here.com'.replace(/\(d0g\)/, '@'),
        'mailFrom': 'textmistake(d0g)yourdomain.com'.replace(/\(d0g\)/, '@'),
        'mandrillKey': 'HereIsYourMandrillApiKey', // Get your - https://mandrill.com/signup/
    });
})(jQuery)
&lt;/script&gt;</code></pre>

            <p>Весь список возможных параметров:</p>
            
            <pre><code>jQuery(document).textmistake({
    'l10n': {
        'title': 'Report a typo author:',
        'urlHint': 'Url of the page with error:',
        'errTextHint': 'Text with the error:',
        'yourComment': 'Your comment:',
        'userComment': 'Comment by user:',
        'commentPlaceholder': 'Type comment',
        'cancel': 'Cancel',
        'send': 'Send',
        'mailSubject': 'Typo on the site',
        'mailTitle': 'Typo on the site',
        'mailSended': 'Notification sent',
        'mailSendedDesc': 'Your notification has been sent successfully. Thank you for your feedback!',
        'mailNotSended': 'Sending error',
        'mailNotSendedDesc': 'Your message has not been sent, sorry.',
    },
    'debug': false,
    'initCss': true,
    'initHtml': true,
    'overlayColor': '#666',
    'overlayOpacity': 0.5,
    'windowZindex': 10001,
    'hideBodyScroll': true,
    'textLimit': 400,
    'contextLength': 40,
    'closeOnEsc': true,
    'mailTo': '',
    'mailFrom': 'textmistake@'+window.location.hostname,
    'mandrillKey': '',
    'sendmailUrl': '',
    'animateSpeed': 0,
    'autocloseTime': 10000,
    'onShow': function(state){},
    'onHide': function(state){},
    'onLoadingShow': function(state){},
    'onLoadingHide': function(state){},
    'onCtrlEnter': function(){},
    'onEscPressed': function(){},
    'onSendMail': function(response){},
    'onAjaxDone': function(response){},
    'onAjaxResultError': function(response){},
    'onAjaxSendError': function(response){},
});</code></pre>
            
            <p>&nbsp;</p>
            <p><a href="https://github.com/tarampampam/jquery.textmistake"><img src="images/github-logo.png" alt="" style="border:none;box-shadow:none" /></a></p>
            <p>&nbsp;</p>
            
        </section>

        <footer>
            <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>this project by <a href="https://github.com/tarampampam">tarampampam</a> can be found on <a href="https://github.com/tarampampam/jquery.textmistake">GitHub</a></p>
          </span>
            <span class="left-tail"></span>
            <span class="right-tail"></span>
            </span>
            <p>Generated with <a href="http://pages.github.com">GitHub Pages</a> using Merlot</p>
            <span class="octocat"></span>
        </footer>

    </div>
    <script type="text/javascript" src="jquery.textmistake.js"></script>
    <script type="text/javascript">
    (function(e){
        jQuery(document).textmistake({
            'l10n': {
                'title': 'Сообщить автору об опечатке:',
                'urlHint': 'Адрес страницы с ошибкой:',
                'errTextHint': 'Текст с ошибкой:',
                'yourComment': 'Ваш комментарий или корректная версия:',
                'userComment': 'Комментарий от пользователя:',
                'commentPlaceholder': 'Введите комментарий',
                'cancel': 'Отмена',
                'send': 'Отправить',
                'mailSubject': 'Ошибка в тексте на сайте',
                'mailTitle': 'Ошибка в тексте на сайте',
                'mailSended': 'Уведомление отправлено',
                'mailSendedDesc': 'Ваше уведомление успешно отправлено. Спасибо за ваш отзыв!',
                'mailNotSended': 'Ошибка при отправке',
                'mailNotSendedDesc': 'Увы, но ваше сообщение не было отправлено. Извините что так получилось.',
            }
        });
    })(jQuery)
    </script>
    <script type="text/javascript">var gaJsHost="https:"==document.location.protocol?"https://ssl.":"http://www.";document.write(unescape("%3Cscript src='"+gaJsHost+"google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));try{var pageTracker=_gat._getTracker("UA-57880339-1");pageTracker._trackPageview()}catch(err){}</script>

</body>

</html>
